# Banking Assistant — LangChain + Azure OpenAI

This project is an intelligent banking assistant built using:

* **Azure OpenAI (GPT-4o-mini)**
* **LangChain Zero-Shot Agent**
* **Custom Tools (Intent Classification, Balance Check, Card Blocking)**
* **Local account dataset**

The assistant automatically classifies user intent, extracts account IDs, and performs the correct banking action using tools.

---

## Features

### ✓ Intent Classification

Uses a custom API (**IntentClassifier**) to determine what the user wants:

* `check_balance`
* `money_transfer`
* `card_issue`

### ✓ Balance Lookup

Retrieves account balance from a local dictionary acting as mock database.

### ✓ Card Issue Reporting

Blocks an ATM card and returns follow-up instructions.

### ✓ Automated Tool Calling

The agent always:

* Calls the IntentClassifier tool
* Selects the correct tool
* Returns a final response generated by the LLM

---

## Project Structure

```
.
├── main.py              # Core agent logic
├── .env                 # Azure and API credentials
├── requirements.txt     # Dependencies
└── README.md            # Project documentation
```

---

## Requirements

Install dependencies:

```bash
pip install -r requirements.txt
```

Your `requirements.txt` should contain:

```
python-dotenv
requests
langchain-openai
langchain-classic
azure-cognitiveservices-speech
```

---

## Environment Variables

Create a `.env` file:

```
model_endpoint=YOUR_INTENT_MODEL_API_URL
model_api_key=YOUR_INTENT_MODEL_KEY

azure_resource_endpoint=YOUR_AZURE_OPENAI_ENDPOINT
azure_resource_key=YOUR_AZURE_OPENAI_KEY
```

Make sure your Azure deployment name for the model is:

```
gpt-4o-mini
```

---

##  Running the Project

Simply run the script:

```bash
python main.py
```

Example user input being processed:

```
"I lost my ATM card. My account is 001. Please block it"
```

Expected flow:

* IntentClassifier → `"card_issue"`
* Agent calls `report_card_issue` tool
* Agent returns:

  * Card blocked
  * Next steps

---

## How It Works (High-Level)

1. **User sends a message**
   Example:
   `"Check the balance for account 002"`

2. **IntentClassifier tool is called**
   Returns: `"check_balance"`

3. **Account number is extracted**
   From user message using regex.

4. **Correct tool is invoked**
   `CheckBalance(account_id)` → returns balance.

5. **LLM formats the final reply**
   Clear, human-friendly explanation of the result.

---

## Tools Used

### **IntentClassifier**

Calls external API to classify user queries.

### **CheckBalance**

Returns mock account balance using predefined account data.

### **report_card_issue**

Simulates blocking a card and returns next steps.

---

## Example Output

```json
{
  "account_id": "001",
  "status": "blocked",
  "next_step": "Collect new card in 48 hrs"
}
```

---

## Notes

* The account database is currently **local and hard-coded**.
* The assistant ensures **no action is done without classifying intent first**.
* The tool-calling logic is enforced through the prompt.

---

## Contributions

Feel free to open issues or improve this project — especially:

* Better intent classifier
* Real database integration
* More banking operations (transaction history, transfers, PIN reset)

---

## License

MIT License

---

